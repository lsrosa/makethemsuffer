class CodeManipulator{
  public:
    CodeTemplate * serial(CodeTemplate * c1, CodeTemplate * c2);
    CodeTemplate * repeatSerial(CodeTemplate * c1, unsigned repetitions);
    CodeTemplate * wrapAsLegUP(CodeTemplate * c);
    CodeTemplate * applyInline(CodeTemplate * c);

  private:
    llvm::LLVMContext &context = llvm::getGlobalContext();
    void fillAllocToFunctionMaps(CodeTemplate * c);
};
